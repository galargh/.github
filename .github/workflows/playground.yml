name: Playground

on:
  workflow_dispatch:
  pull_request:
  push:
    paths: ['.github/workflows/playground.yml']

defaults:
  run:
    shell: bash

jobs:
  playground:
    runs-on: macos-latest
    steps:
      - run: echo "PGDATA=/usr/local/var/postgres" >> $GITHUB_ENV
      - run: mkdir -p "$PGDATA"
      - run: pg_ctl -D "$PGDATA" -l "$PGDATA/server.log" start
