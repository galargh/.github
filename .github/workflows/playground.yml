name: Playground

on:
  workflow_dispatch:
  pull_request:
  push:
    paths: ['.github/workflows/playground.yml']
  release:
    types:
      - published
      - released

permissions:
  checks: write

jobs:
  playground:
    runs-on: ubuntu-latest
    steps:
      - run: |
          current_version=v1.28.0-rc1
          if [[ $current_version =~ -rc$ && "$TARGET_REF" == 'refs/heads/releases' ]]; then
            echo "Skipping $project because it's an RC version on the releases branch"
            continue
          fi
        shell: bash
