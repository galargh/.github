name: Playground

on:
  workflow_dispatch:
  push:
    paths: ['.github/workflows/playground.yml']


defaults:
  run:
    shell: bash

jobs:
  playground:
    runs-on: ubuntu-latest
    steps:
    - id: run
      uses: pl-strflt/rich-workflow-run@v1
      with:
        jobs-url: ''
        logs-url: https://api.github.com/repos/libp2p/go-libp2p/actions/runs/4443086189/logs
        artifacts-url: '' 
        # https://api.github.com/repos/libp2p/go-libp2p/actions/runs/4443086189/artifacts
    - env:
        MESSAGES: ${{ toJSON(fromJSON(steps.run.outputs.logs)['releaser  releaser/Create release'].*.message) }}
      run: |
        jq 'map(select(contains("tag_name:"))) | .[0] | sub("\\s*tag_name:\\s*";"")' <<< "$MESSAGES"
